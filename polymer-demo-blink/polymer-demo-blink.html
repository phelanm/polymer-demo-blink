<!--
    @license
    Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
    The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
    The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
    Code distributed by Google as part of the polymer project is also
    subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../core-animation/core-animation.html">

<!--
Element to learn about polymer.

##### Example

    <polymer-demo-blink duration="3000"></polymer-demo-blink>

@element polymer-demo-blink
@blurb Element practicing polymer
@status alpha
@homepage http://phelanm.github.io/polymer-demo-blink
-->
<polymer-element name="polymer-demo-blink" attributes="duration">

  <template>
    <link rel="stylesheet" href="polymer-demo-blink.css">

    <core-animation id="animation"
                    duration="{{duration}}"
                    iterations="Infinity">
      <core-animation-keyframe>
        <core-animation-prop name="opacity"
                             value="1">
        </core-animation-prop>
      </core-animation-keyframe>
      <core-animation-keyframe>
        <core-animation-prop name="opacity"
                             value="0">
        </core-animation-prop>
      </core-animation-keyframe>
      <core-animation-keyframe>
        <core-animation-prop name="opacity"
                             value="1">
        </core-animation-prop>
      </core-animation-keyframe>
    </core-animation>
    
    <div id="container">
      <content></content>
    </div>
  </template>

  <script>

    Polymer({
      /**
       * The `duration` attr microsecond blink rate
       *
       * @attribute duration
       * @default 3000
       */
      duration: 3000,
      durationChanged: function() {
        this.$.animation.play();
      },
      domReady: function() {
        this.$.animation.target = this.$.container;
        this.$.animation.play();
      }
    });

  </script>

</polymer-element>
